# !/usr/bin/env bash

CURR_DIR=$(pwd)

if [[ $1 == "--replace-existing" ]]
then
    echo "Replacing existing files..."

    for FILE in .config/*
    do
        echo "Removing ~/$FILE for replacement."
        rm -rf ~/$FILE
    done
    mkdir ~/.config/

    for FILE in .scripts/*
    do
        echo "Removing ~/$FILE for replacement."
        rm -rf ~/$FILE
    done
    mkdir ~/.scripts/

    echo "Removing ~/.zshrc for replacement."
    rm -rf ~/.zshrc
fi

for FILE in .config/*
do
    echo "Making sym-link: $CURR_DIR/$FILE -> ~/$FILE"
    ln -s -f $CURR_DIR/$FILE ~/.config/
done

for FILE in .scripts/*
do
    echo "Making sym-link: $CURR_DIR/$FILE -> ~/$FILE"
    ln -s -f $CURR_DIR/$FILE ~/.scripts/
done

echo "Making sym-link: $CURR_DIR/.zshrc -> ~/.zshrc"
ln -s -f $CURR_DIR/.zshrc ~
